<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

        <title>Docker - A worthwhale tool to know!</title>

        <!-- Materialize -->
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/css/materialize.min.css">

        <link rel="stylesheet" href="css/reveal.min.css">
        <link rel="stylesheet" href="css/theme.css">

        <!-- Theme used for syntax highlighting of code -->
        <link rel="stylesheet" href="lib/css/zenburn.css">
    </head>
    <body>
        <div class="reveal">
            <div class="slides">
                <!-- Cover Image -->
                <section>
                    <div class="card light z-depth-5">
                        <div class="card-image">
                            <img src="http://www.new-corner.com/wp-content/uploads/2014/12/docker-wallpaper-black-1050x656.jpg" alt="Docker">
                        </div>
                    </div>
                </section>

                <!-- Title Slide -->
                <section>
                    <div class="card light z-depth-5">
                        <div class="card-content">
                            <div class="row">
                                <div class="col s12">
                                    <p>Docker - A worth<em>whale</em> tool to learn</p>
                                </div>
                            </div>
                        </div>
                        <div class="card-action">
                            <p>Ciaran Broderick, ExOfficio</p>
                        </div>
                    </div>
                </section>
                <!-- /Title -->

                <!-- Roadmap -->
                <section>
                    <div class="card light z-depth-5">
                        <div class="card-content">
                            <table class="table">
                                <tr class="fragment">
                                    <th>Part 1</th>
                                    <td>Intro to Docker / Containers</td>
                                </tr>
                                <tr class="fragment">
                                    <th>Part 2</th>
                                    <td>Getting Started with Docker</td>
                                </tr>
                                <tr class="fragment">
                                    <th>Part 3</th>
                                    <td>Spilling Company Secrets</td>
                                </tr>
                                <tr class="fragment">
                                    <th>Part 4</th>
                                    <td>Cool Docker Stuff</td>
                                </tr>
                            </table>
                        </div>
                        <div class="card-action">
                            <p><strong>Roadmap</strong></p>
                        </div>
                    </div>
                </section>
                <!-- /Roadmap -->

                <!-- Part 1; Intro to Docker -->
                <section>
                    <!-- Root -->
                    <section>
                        <div class="card light z-depth-5">
                            <div class="card-image">
                                <img src="https://cdn-images-1.medium.com/max/1600/1*CO20-3P183ZAqrsJlF7n_A.png" width="800" height="555" alt="Cute Docker Whale with a Gopher" />
                            </div>
                            <div class="card-content">
                                <strong>1. What is Docker?</strong>
                            </div>
                        </div>
                    </section>
                    <!-- /root -->

                    <!-- Docker -->
                    <section>
                        <div class="card light z-depth-5">
                            <div class="card-content">
                                <em>Containers</em>
                            </div>
                        </div>
                    </section>
                    <!-- /Docker -->

                    <!-- Container -->
                    <section>
                        <div class="card light z-depth-5">
                            <div class="card-content">
                                <p><strong>What is a Container</strong></p>
                                <blockquote cite="https://www.docker.com/resources/what-container">
                                    <span class="fragment">A standardized unit of software</span>
                                </blockquote>
                            </div>
                        </div>
                    </section>
                    <!-- /Container -->

                    <!-- VM Architecture -->
                    <section>
                        <div class="card light z-depth-5">
                            <div class="card-image text-center">
                                <img src="https://www.docker.com/sites/default/files/d8/2018-11/container-vm-whatcontainer_2.png" height="650" width="auto" alt="VM Architecture" />
                            </div>
                        </div>
                    </section>
                    <!--/ VM Architecture -->

                    <!-- Container Architecture -->
                    <section>
                        <div class="card light z-depth-5">
                            <div class="card-image text-center">
                                <img src="https://www.docker.com/sites/default/files/d8/2018-11/docker-containerized-appliction-blue-border_2.png" height="650" width="auto" alt="Container Architecture" />
                            </div>
                        </div>
                    </section>
                    <!--/ Container Architecture -->
                </section>
                <!-- /Part 1 -->

                <!-- Analogy -->
                <section>
                    <!-- Setup -->
                    <section>
                        <div class="card light z-depth-5">
                            <div class="card-content">
                                <p><strong>Analogy</strong></p>
                                <table class="table">
                                    <tr class="fragment">
                                        <td>Installing an application on a VM is like manually setting up a tent</td>
                                    </tr>
                                    <tr class="fragment">
                                        <td>Installing an application with Docker is like a popup tent*</td>
                                    </tr>
                                    <tr class="fragment">
                                        <td><em>*Not a great analogy but it works** so ¯\_(ツ)_/¯</em></td>
                                    </tr>
                                    <tr class="fragment">
                                        <td><em>**We're gonna ignore taking the tents down btw</em></td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                    </section>
                    <!-- /setup -->

                    <!-- Explanation pt1 -->
                    <section>
                        <div class="card light z-depth-5">
                            <div class="card-content">
                                <p><strong>Explanation Part 1; Manual Tent</strong></p>
                                <table class="table">
                                    <tr class="fragment">
                                        <td>Imagine the ground is a nice clean VM that we just made</td>
                                    </tr>
                                    <tr class="fragment">
                                        <td>We gotta set up the tent poles (requirements) and the fabric (the application)</td>
                                    </tr>
                                    <tr class="fragment">
                                        <td>Putting tent poles into tent fabric is hard and might take multiple people</td>
                                    </tr>
                                    <tr class="fragment">
                                        <td>If the poles break / need upgrading it's hard to do</td>
                                    </tr>
                                    <tr class="fragment">
                                        <td><em>Okay this isn't the greatest analogy...</em></td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                    </section>
                    <!-- /explanation pt1 -->

                    <!-- Explanation pt2 -->
                    <section>
                        <div class="card light z-depth-5">
                            <div class="card-content">
                                <p><strong>Explanation Part 2; Popup Tent</strong></p>
                                <table class="table">
                                    <tr class="fragment">
                                        <td>Imagine the ground is (again) a nice clean VM that we just made</td>
                                    </tr>
                                    <tr class="fragment">
                                        <td>We have to install 1 (usually) thing on it; Docker <em class="fragment">(no analogy here sorry)</em></td>
                                    </tr>
                                    <tr class="fragment">
                                        <td>The tent is in its bag (Docker image) ready to be opened</td>
                                    </tr>
                                    <tr class="fragment">
                                        <td>We open the bag and the popup tent sets itself up for us (Docker container)</td>
                                    </tr>
                                    <tr class="fragment">
                                        <td><em>It kinda works better for this part than the last one :D</em></td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                    </section>
                    <!-- /explanation pt2 -->

                    <!-- pop up tent gif -->
                    <section>
                        <div class="card light z-depth-5">
                            <div class="card-image text-center">
                                <video controls>
                                    <source src="https://zippy.gfycat.com/BelovedCaringClumber.webm" type="video/webm" />
                                </video>
                            </div>
                            <div class="card-content">
                                <strong>Close Enough</strong>
                            </div>
                        </div>
                    </section>
                    <!-- /pop up tent gif -->
                </section>

                <!-- Getting Started -->
                <section>
                    <!-- Root -->
                    <section>
                        <div class="card light z-depth-5">
                            <div class="card-image">
                                <img src="https://docs.docker.com/get-started/images/laurel-docker-containers.png" width="auto" height="500" alt="Docker Harbour with Friends" />
                            </div>
                            <div class="card-content">
                                <strong>2. Enough about tents, let's talk about Docker</strong>
                            </div>
                        </div>
                    </section>
                    <!-- /root -->

                    <!-- One more mention of tents -->
                    <section>
                        <div class="card light z-depth-5">
                            <div class="card-content">
                                <strong>One more mention of tents</strong>
                                <table class="table">
                                    <tr class="fragment">
                                        <td>Back in the dumb tent analogy I mentioned <em>Images</em> and <em>Containers</em></td>
                                    </tr>
                                    <tr class="fragment">
                                        <td><em>Images</em> are a built application (or whatever) ready to be run by Docker</td>
                                    </tr>
                                    <tr class="fragment">
                                        <td><em>Containers</em> are running instances of <em>Images</em></td>
                                    </tr>
                                    <tr class="fragment">
                                        <td>I'm now done talking about tents</td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                    </section>
                    <!-- /tents -->

                    <!-- Installing docker -->
                    <section>
                        <div class="card light z-depth-5">
                            <div class="card-content">
                                <p><strong>Let's Install Docker</strong></p>
                                <hr />
                                <p>For Windows / Mac Users;</p>
                                <a href="https://docs.docker.com/engine/installation/" target="_blank" class="btn-flat">Install Guide</a>
                                <hr />
                                <p>
                                    For (most) Linux Users;
                                    <pre><code>curl -sSL https://get.docker.com/ | sh</code></pre>
                                    For Arch users; it's in the community repo so just install it with whatever it is you use
                                </p>
                            </div>
                        </div>
                    </section>
                    <!-- /installation -->

                    <!-- hello-world -->
                    <section>
                        <div class="card light z-depth-5">
                            <div class="card-content">
                                <p><strong>Even Docker isn't safe from "Hello, World!"</strong></p>
                                <hr />
                                <p>Once you have it installed;</p>
                                <pre><code data-trim data-language="bash">docker run hello-world</code></pre>
                                <p>should give you the following output;</p>
                                <pre><code data-trim>
                                    Hello from Docker!
                                    This message shows that your installation appears to be working correctly.
                                </code></pre>
                            </div>
                        </div>
                    </section>
                    <!-- /hello-world -->
                </section>
                <!-- /Getting Started -->

                <!-- Building our own Docker Image -->
                <section>
                    <!-- Discussion on images -->
                    <section>
                        <div class="card light z-depth-5">
                            <div class="card-content">
                                <p><strong>2.5 More on Images</strong></p>
                                <hr />
                                <p class="fragment">In the output of the last command I gave you, you might have seen something like this;</p>
                                <pre class="fragment"><code data-trim data-language="bash">
                                    Unable to find image 'hello-world:latest' locally
                                    latest: Pulling from library/hello-world
                                </code></pre>
                                <p class="fragment">
                                    This is Docker saying "I don't have the 'hello-world' image on this machine, let me go get it"
                                </p>
                            </div>
                        </div>
                    </section>
                    <!-- /Discussion -->

                    <!-- hub -->
                    <section>
                        <div class="card light z-depth-5">
                            <div class="card-content">
                                <p><strong>Where does it get images from?</strong></p>
                                <hr />
                                <p class="fragment"><em>If only there was some kind of website where people could upload Docker images for various widely used applications...</em></p>
                            </div>
                        </div>
                    </section>
                    <!-- /hub -->

                    <!-- hub image -->
                    <section>
                        <div class="card light z-depth-5">
                            <div class="card-image">
                                <img src="img/hub.png" width="auto" height="500" alt="Docker Hub" />
                            </div>
                            <div class="card-content">
                                <strong>The Docker Hub!</strong>
                            </div>
                        </div>
                    </section>
                    <!-- /hub image -->

                    <!-- building our own images -->
                    <section>
                        <div class="card light z-depth-5">
                            <div class="card-content">
                                <p><strong>2.8 Building our own images</strong></p>
                                <hr />
                                <p class="fragment"><em>"So the Docker Hub is great but it doesn't have Docker images for my stuff"</em></p>
                                <hr />
                                <p class="fragment">Of course it doesn't, it's on you to make images for your stuff</p>
                                <hr />
                                <p class="fragment">How? Let me show you!</p>
                            </div>
                        </div>
                    </section>
                    <!-- /building our own images -->
                </section>
                <!-- /Building our own -->

                <!-- crnlpanic -->
                <section>
                    <!-- intro -->
                    <section>
                        <div class="card light z-depth-5">
                            <div class="card-content">
                                <strong>Example: <code>crnlpanic</code></strong>
                                <table class="table">
                                    <tr class="fragment">
                                        <td>I have a nice website at <a href="http://crnlpanic.netsoc.co" target="_blank">crnlpanic.netsoc.co</a></td>
                                    </tr>
                                    <tr class="fragment">
                                        <td>I want to make a standalone version using <code>flask</code></td>
                                    </tr>
                                    <tr class="fragment">
                                        <td>I want to use Docker to deploy it</td>
                                    </tr>
                                    <tr class="fragment">
                                        <td>I guarantee nobody has made one for me since it's a new project</td>
                                    </tr>
                                </table>
                            </div>
                            <div class="card-action fragment">
                                <a href="https://github.com/crnbrdrck/crnlpanic" target="_blank" class="btn-flat" style="color: #6A81AE">Follow Along</a>
                            </div>
                        </div>
                    </section>
                    <!-- /intro -->

                    <!-- step 1 -->
                    <section>
                        <div class="card light z-depth-5">
                            <div class="card-content">
                                <strong>Step 1: Dockerfile</strong>
                                <table class="table">
                                    <tr class="fragment">
                                        <td>First thing's first, we need a Dockerfile</td>
                                    </tr>
                                    <tr class="fragment">
                                        <td>This is a set of instructions for Docker to follow to build my image</td>
                                    </tr>
                                    <tr class="fragment">
                                        <td>We need to copy the code into the image, install requirements, and set the command that the image will run</td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                    </section>
                    <!-- /step 1 -->

                    <!-- Dockerfile -->
                    <section>
                        <div class="card light z-depth-5">
                            <div class="card-content">
                                <strong>Step 1: Dockerfile</strong>
                                <pre><code data-trim data-language="Dockerfile">
                                    # Base image is the python 3.7 docker image
                                    FROM python:3.7

                                    # Set the working directory inside the image
                                    WORKDIR /home/crnlpanic/public_html

                                    # Copy from the build context to the image
                                    COPY . .

                                    # Install requirements
                                    RUN pip install -r requirements.txt

                                    # Load the latest submodules
                                    RUN git submodule init
                                    RUN git submodule update --remote

                                    # Expose port 5000
                                    EXPOSE 5000

                                    # Set the entrypoint
                                    ENTRYPOINT python3.7 app.py
                                </code></pre>
                            </div>
                        </div>
                    </section>
                    <!-- /Dockerfile -->

                    <!-- step 2 -->
                    <section>
                        <div class="card light z-depth-5">
                            <div class="card-content">
                                <strong>Step 2: Building the image</strong>
                                <table class="table">
                                    <tr class="fragment">
                                        <td>Now that we have a Dockerfile, we can build our own image</td>
                                    </tr>
                                    <tr class="fragment">
                                        <td>In our project directory we can run the following;</td>
                                    </tr>
                                    <tr class="fragment">
                                        <td><pre><code data-lang="bash">docker build -t crnlpanic .</code></pre></td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                    </section>
                    <!-- /step 2 -->

                    <!-- step 3 -->
                    <section>
                        <div class="card light z-depth-5">
                            <div class="card-content">
                                <strong>Step 3: Running the image</strong>
                                <table class="table">
                                    <tr class="fragment">
                                        <td>After building our image, we can verify it is there using;</td>
                                    </tr>
                                    <tr class="fragment">
                                        <td><pre><code data-lang="bash">docker images</code></pre></td>
                                    </tr>
                                    <tr class="fragment">
                                        <td>To then run the image we need to do the following;</td>
                                    </tr>
                                    <tr class="fragment">
                                        <td><pre style="width: 100%;"><code data-lang="bash">docker run -p 5000:5000 -d crnlpanic</code></pre></td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                    </section>
                    <!-- /step 3 -->

                    <!-- step 4 -->
                    <section>
                        <div class="card light z-depth-5">
                            <div class="card-content">
                                <strong>Step 4: Test</strong>
                                <table class="table">
                                    <tr class="fragment">
                                        <td>To test, go to <a href="http://localhost:5000" target="_blank">localhost:5000</a> and ensure the page loads</td>
                                    </tr>
                                    <tr class="fragment">
                                        <td>Last time <em>I</em> checked, it works, so if it doesn't for you it's your fault &gt;.&gt;</td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                    </section>
                    <!-- /step 4 -->
                </section>
                <!-- /crnlpanic -->

                <!-- other cool stuff -->
                <section>
                    <!-- -v -->
                    <section>
                        <div class="card light z-depth-5">
                            <div class="card-content">
                                <strong>0.2 Some other cool stuff</strong>
                                <table class="table">
                                    <tr class="fragment">
                                        <td>
                                            Run this from the project directory, edit <code>templates/index.html</code> and reload the page and you'll see it update in real time;
                                        </td>
                                    </tr>
                                    <tr class="fragment">
                                        <td>
                                            <pre style="width: 100%;"><code data-lang="bash">docker run -p 5000:5000 -v $(pwd):/home/crnlpanic/public_html -d crnlpanic</code></pre>
                                        </td>
                                    </tr>
                                    <tr class="fragment">
                                        <td>This is handy if you have your application Dockerised already and want to do development work</td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                    </section>
                    <!-- /-v -->
                </section>
                <!-- /other cool stuff -->

                <section>
                    <div class="card light z-depth-5">
                        <div class="card-content">
                            What are your questions?
                            <pre><code data-trim data-language="Dockerfile">
                                FROM docker-talk:audience
                                RUN answer-questions.sh
                            </code></pre>
                        </div>
                    </div>
                </section>

                <section style="color: #d4def6;">
                    <h1 style="color: #d4def6;">Thank you!</h1>
                    <p>crnlpanic.netsoc.co/techtalks/docker</p>
                    <p>github.com/crnbrdrck/netsoc-docker-talk</p>
                    <p>Example @ github.com/crnbrdrck/crnlpanic</p>
                </section>
            </div>
        </div>

        <script src="lib/js/head.min.js"></script>
        <script src="js/reveal.min.js"></script>

        <script>
            // More info about config & dependencies:
            // - https://github.com/hakimel/reveal.js#configuration
            // - https://github.com/hakimel/reveal.js#dependencies
            Reveal.initialize({
                controls: true,
                history: true,
                dependencies: [
                    { src: 'plugin/markdown/marked.js' },
                    { src: 'plugin/markdown/markdown.js' },
                    { src: 'plugin/notes/notes.js', async: true },
                    { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
                ]
            });
        </script>
    </body>
</html>
